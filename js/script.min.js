const writeLink=document.querySelector(".contacts__button"),writePopup=document.querySelector(".popup__writeus");if(writePopup){const e=writePopup.querySelector(".popup__close"),t=writePopup.querySelector(".writeus__form"),o=writePopup.querySelector(".input__name"),u=writePopup.querySelector(".input__email"),i=writePopup.querySelector(".input__letter");let r=!0;try{storageName=localStorage.getItem("name")}catch(e){r=!1}try{storageEmail=localStorage.getItem("email")}catch(e){r=!1}writeLink.addEventListener("click",function(e){e.preventDefault(),writePopup.classList.add("active"),storageName?(o.value=storageName,storageEmail?(u.value=storageEmail,i.focus()):u.focus()):o.focus()}),e.addEventListener("click",function(e){e.preventDefault(),writePopup.classList.remove("active"),writePopup.classList.remove("error")}),window.addEventListener("keydown",function(e){27===e.keyCode&&writePopup.classList.contains("active")&&(e.preventDefault(),writePopup.classList.remove("active"),writePopup.classList.remove("error"))}),t.addEventListener("submit",function(e){o.value&&u.value?(r&&localStorage.setItem("name",o.value),r&&localStorage.setItem("email",u.value)):(e.preventDefault(),writePopup.classList.remove("error"),writePopup.offsetWidth=writePopup.offsetWidth,writePopup.classList.add("error"))})}const mapLink=document.querySelector(".contacts__map"),mapPopup=document.querySelector(".popup__map");if(mapPopup){const e=mapPopup.querySelector(".popup__close");mapLink.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.add("active")}),e.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.remove("active")}),window.addEventListener("keydown",function(e){27===e.keyCode&&mapPopup.classList.contains("active")&&(e.preventDefault(),mapPopup.classList.remove("active"))})}const buyLink=document.querySelectorAll(".button__buy"),buyPopup=document.querySelector(".popup__success"),buyClose=buyPopup.querySelector(".popup__close"),buyCloseButton=buyPopup.querySelector(".button__close");for(var i=0;i<buyLink.length;i++)buyLink[i].addEventListener("click",function(e){e.preventDefault(),buyPopup.classList.add("active")});buyClose.addEventListener("click",function(e){e.preventDefault(),buyPopup.classList.remove("active")}),buyCloseButton.addEventListener("click",function(e){e.preventDefault(),buyPopup.classList.remove("active")}),window.addEventListener("keydown",function(e){27===e.keyCode&&buyPopup.classList.contains("active")&&(e.preventDefault(),buyPopup.classList.remove("active"))});